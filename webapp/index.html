<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
        #imageBlock {
            width: 300px;
            height: 419px;
        }
    </style>
</head>
<body>
<div class="container" id="container">
    <!--导航-->
    <nav class="navbar navbar-default" role="navigation">
        <ul class="nav navbar-nav">
            <li><a href="#"><strong>我的豆瓣</strong></a></li>
            <li><a href="#">正在热映</a></li>
            <li><a href="#">即将上映</a></li>
            <li><a href="#">TOP250</a></li>
        </ul>
    </nav>
    <!--缩略图-->
    <div class="row">

    </div>
</div>



<script src="js/jquery-2.1.4.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript">
    $.ajax({
        type: "GET",
        async: 'false',
        url: "http://127.0.0.1:8888/nowplaying",
        dataType: "jsonp",
        jsonpCallback:"nowplaying",
        success: function(data){
            for (var key in data){
                var item = data[key];
                showData(item);
            }
        },
        error: function (error) {
            console.log('请求失败');
        }
    });

    function showData(item) {
        var str = '';
        str += '<div class="col-sm-6 col-md-3">';
            str += '<div class="thumbnail">';
                str += '<img id="imageBlock" src="'+item.post+'" alt="...">';
                str += '<div class="caption">';
                    str += '<h3>'+item.title+'<span class="badge pull-left">'+item.rate+'</span></h3>';
                    str += '<p><a href="'+item.link+'" class="btn btn-primary" role="button">去豆瓣看看</a></p>';
                str += '</div>';
            str += '</div>';
        str += '</div>';

        $(".row").append(str);
    }



</script>
</body>
</html>